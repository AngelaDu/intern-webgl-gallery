{"version":3,"sources":["webpack://_N_E/./src/utils/dispose-objects.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://_N_E/./node_modules/three/examples/jsm/shaders/DigitalGlitch.js","webpack://_N_E/./src/utils/threejs/GlitchPass.js","webpack://_N_E/./src/pages/ThreeCanvas.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?60a4"],"names":["disposeObjects","object","parent","undefined","remove","dispose","geometry","material","children","i","l","length","type","console","log","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","DigitalGlitch","uniforms","vertexShader","fragmentShader","dt_size","Pass","call","shader","clone","generateHeightmap","fsQuad","curF","prototype","Object","assign","create","constructor","render","renderer","writeBuffer","readBuffer","texture","Math","random","randX","randFloat","PI","generateTrigger","isActive","renderToScreen","setRenderTarget","clear","randInt","data_arr","Float32Array","val","activate","__jsx","createElement","inputEl","scene","camera","current","offsetWidth","offsetHeight","antialias","setPixelRatio","setSize","append","domElement","toneMapping","addEventListener","event","mouse","x","clientX","y","clientY","aspect","window","innerWidth","innerHeight","composer","updateProjectionMatrix","glitchPass","timer","INTERSECTED","begin","transitionBegin","redirect","userData","url","targetZ","wireframe","matLineBasic","titleShapes","enterShapes","titleGeometry","text","enterGeo","raycaster","directionalLight","groupThumb","groupFont","clock","matDark","color","side","matLite","transparent","opacity","idText","nameGeo","background","fog","add","position","set","load","font","generateShapes","computeBoundingBox","xMid","boundingBox","max","min","translate","push","z","enterText","holeShapes","_i","shape","holes","j","hole","lineText","_i2","points","getPoints","lineGeo","setFromPoints","lineMesh","mesh","map","isSelected","id","geo","computeLineDistances","visible","rotateX","xLen","renderScene","RenderPass","bloomPass","UnrealBloomPass","EffectComposer","addPass","lookAt","init","animate","getDelta","location","href","cancelAnimationFrame","requestAnimationFrame","setFromCamera","intersects","intersectObjects","emissive","setHex","currentHex","emissiveIntensity","getHex","Fragment","ref","_defineProperty","obj","defineProperty","enumerable","configurable","writable","__NEXT_P"],"mappings":"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","file":"static/chunks/pages/ThreeCanvas-e2cf16c05b899954556a.js","sourcesContent":["/**\n * Recursively dispose threejs objects\n *\n * @export\n * @param {Object3D} object\n * @param {(Scene | Object3D)} parent\n * @returns\n */\nexport default function disposeObjects(object, parent) {\n  if (object === null || object === undefined) return;\n  if (parent) parent.remove(object);\n\n  if (object.dispose) {\n    object.dispose();\n  }\n\n  if (object.geometry) {\n    object.geometry.dispose();\n  }\n\n  if (object.material) {\n    object.material.dispose();\n  }\n\n  if (object.children) {\n    var i = 0;\n    var l = object.children.length;\n\n    while (i < l) {\n      disposeObjects(object.children[0], object);\n      i++;\n    }\n  }\n\n  if (object.type === 'Scene') object.dispose();\n  object = null;\n  console.log('test');\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","/**\n * RGB Shift Shader\n * Shifts red and blue channels from center in opposite directions\n * Ported from http://kriss.cx/tom/2009/05/rgb-shift/\n * by Tom Butterworth / http://kriss.cx/tom/\n *\n * amount: shift distance (1 is width of input)\n * angle: shift angle in radians\n */\nvar DigitalGlitch = {\n  uniforms: {\n    'tDiffuse': {\n      value: null\n    },\n    //diffuse texture\n    'tDisp': {\n      value: null\n    },\n    //displacement texture for digital glitch squares\n    'byp': {\n      value: 0\n    },\n    //apply the glitch ?\n    'amount': {\n      value: 0.08\n    },\n    'angle': {\n      value: 0.02\n    },\n    'seed': {\n      value: 0.02\n    },\n    'seed_x': {\n      value: 0.02\n    },\n    //-1,1\n    'seed_y': {\n      value: 0.02\n    },\n    //-1,1\n    'distortion_x': {\n      value: 0.5\n    },\n    'distortion_y': {\n      value: 0.6\n    },\n    'col_s': {\n      value: 0.05\n    }\n  },\n  vertexShader:\n  /* glsl */\n  \"\\n\\n\\t\\tvarying vec2 vUv;\\n\\t\\tvoid main() {\\n\\t\\t\\tvUv = uv;\\n\\t\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\t\\t}\",\n  fragmentShader:\n  /* glsl */\n  \"\\n\\n\\t\\tuniform int byp; //should we apply the glitch ?\\n\\n\\t\\tuniform sampler2D tDiffuse;\\n\\t\\tuniform sampler2D tDisp;\\n\\n\\t\\tuniform float amount;\\n\\t\\tuniform float angle;\\n\\t\\tuniform float seed;\\n\\t\\tuniform float seed_x;\\n\\t\\tuniform float seed_y;\\n\\t\\tuniform float distortion_x;\\n\\t\\tuniform float distortion_y;\\n\\t\\tuniform float col_s;\\n\\n\\t\\tvarying vec2 vUv;\\n\\n\\n\\t\\tfloat rand(vec2 co){\\n\\t\\t\\treturn fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\t\\t\\tif(byp<1) {\\n\\t\\t\\t\\tvec2 p = vUv;\\n\\t\\t\\t\\tfloat xs = floor(gl_FragCoord.x / 0.5);\\n\\t\\t\\t\\tfloat ys = floor(gl_FragCoord.y / 0.5);\\n\\t\\t\\t\\t//based on staffantans glitch shader for unity https://github.com/staffantan/unityglitch\\n\\t\\t\\t\\tvec4 normal = texture2D (tDisp, p*seed*seed);\\n\\t\\t\\t\\tif(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {\\n\\t\\t\\t\\t\\tif(seed_x>0.){\\n\\t\\t\\t\\t\\t\\tp.y = 1. - (p.y + distortion_y);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse {\\n\\t\\t\\t\\t\\t\\tp.y = distortion_y;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif(p.x<distortion_y+col_s && p.x>distortion_y-col_s*seed) {\\n\\t\\t\\t\\t\\tif(seed_y>0.){\\n\\t\\t\\t\\t\\t\\tp.x=distortion_x;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse {\\n\\t\\t\\t\\t\\t\\tp.x = 1. - (p.x + distortion_x);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tp.x+=normal.x*seed_x*(seed/5.);\\n\\t\\t\\t\\tp.y+=normal.y*seed_y*(seed/5.);\\n\\t\\t\\t\\t//base from RGB shift shader\\n\\t\\t\\t\\tvec2 offset = amount * vec2( cos(angle), sin(angle));\\n\\t\\t\\t\\tvec4 cr = texture2D(tDiffuse, p + offset);\\n\\t\\t\\t\\tvec4 cga = texture2D(tDiffuse, p);\\n\\t\\t\\t\\tvec4 cb = texture2D(tDiffuse, p - offset);\\n\\t\\t\\t\\tgl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\\n\\t\\t\\t\\t//add noise\\n\\t\\t\\t\\tvec4 snow = 200.*amount*vec4(rand(vec2(xs * seed,ys * seed*50.))*0.2);\\n\\t\\t\\t\\tgl_FragColor = gl_FragColor+ snow;\\n\\t\\t\\t}\\n\\t\\t\\telse {\\n\\t\\t\\t\\tgl_FragColor=texture2D (tDiffuse, vUv);\\n\\t\\t\\t}\\n\\t\\t}\"\n};\nexport { DigitalGlitch };","import { DataTexture, FloatType, MathUtils, RGBFormat, ShaderMaterial, UniformsUtils } from 'three/build/three.module';\nimport { Pass } from 'three/examples/jsm/postprocessing/Pass.js';\nimport { FullScreenQuad } from 'three/examples/jsm/postprocessing/Pass.js';\nimport { DigitalGlitch } from 'three/examples/jsm/shaders/DigitalGlitch.js';\n\nvar GlitchPass = function GlitchPass(dt_size) {\n  Pass.call(this);\n  if (DigitalGlitch === undefined) console.error('GlitchPass relies on DigitalGlitch');\n  var shader = DigitalGlitch;\n  this.uniforms = UniformsUtils.clone(shader.uniforms);\n  if (dt_size === undefined) dt_size = 64;\n  this.uniforms['tDisp'].value = this.generateHeightmap(dt_size);\n  this.material = new ShaderMaterial({\n    uniforms: this.uniforms,\n    vertexShader: shader.vertexShader,\n    fragmentShader: shader.fragmentShader\n  });\n  this.fsQuad = new FullScreenQuad(this.material);\n  this.curF = 0;\n};\n\nGlitchPass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: GlitchPass,\n  render: function render(renderer, writeBuffer, readBuffer\n  /*, deltaTime, maskActive */\n  ) {\n    this.uniforms['tDiffuse'].value = readBuffer.texture;\n    this.uniforms['seed'].value = Math.random(); //default seeding\n\n    this.uniforms['byp'].value = 0;\n\n    if (this.curF % this.randX === 0) {\n      this.uniforms['amount'].value = Math.random() / 30;\n      this.uniforms['angle'].value = MathUtils.randFloat(-Math.PI, Math.PI);\n      this.uniforms['seed_x'].value = MathUtils.randFloat(-1, 1);\n      this.uniforms['seed_y'].value = MathUtils.randFloat(-1, 1);\n      this.uniforms['distortion_x'].value = MathUtils.randFloat(0, 1);\n      this.uniforms['distortion_y'].value = MathUtils.randFloat(0, 1);\n      this.curF = 0;\n      this.generateTrigger();\n    } else if (this.curF % this.randX < this.randX / 5) {\n      //console.log('is active2');\n      this.isActive = true;\n      this.uniforms['amount'].value = Math.random() / 90;\n      this.uniforms['angle'].value = MathUtils.randFloat(-Math.PI, Math.PI);\n      this.uniforms['distortion_x'].value = MathUtils.randFloat(0, 1);\n      this.uniforms['distortion_y'].value = MathUtils.randFloat(0, 1);\n      this.uniforms['seed_x'].value = MathUtils.randFloat(-0.3, 0.3);\n      this.uniforms['seed_y'].value = MathUtils.randFloat(-0.3, 0.3);\n      this.curF++;\n    } else {\n      this.uniforms['byp'].value = 1;\n    }\n\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(writeBuffer);\n\n      if (this.clear) {\n        renderer.clear();\n      }\n\n      this.fsQuad.render(renderer);\n    }\n  },\n  generateTrigger: function generateTrigger() {\n    this.randX = MathUtils.randInt(120, 240);\n  },\n  generateHeightmap: function generateHeightmap(dt_size) {\n    var data_arr = new Float32Array(dt_size * dt_size * 3);\n    var length = dt_size * dt_size;\n\n    for (var i = 0; i < length; i++) {\n      var val = MathUtils.randFloat(0, 1);\n      data_arr[i * 3 + 0] = val;\n      data_arr[i * 3 + 1] = val;\n      data_arr[i * 3 + 2] = val;\n    }\n\n    return new DataTexture(data_arr, dt_size, dt_size, RGBFormat, FloatType);\n  },\n  activate: function activate() {\n    this.curF = 1;\n    this.generateTrigger();\n  }\n});\nexport { GlitchPass };","var __jsx = React.createElement;\nimport React, { useRef, useEffect } from 'react';\nimport { Color, Fog, AmbientLight, Scene, Clock, Vector2, PerspectiveCamera, BoxGeometry, Mesh, Group, WebGLRenderer, Vector3, DirectionalLight, TextureLoader, Raycaster, MeshLambertMaterial, PlaneGeometry, WireframeGeometry, LineBasicMaterial, LineSegments, ReinhardToneMapping, Line, BufferGeometry, Object3D, ShapeGeometry, DoubleSide, FontLoader, MeshBasicMaterial } from 'three/build/three.module';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass.js';\nimport { GlitchPass } from '../utils/threejs/GlitchPass.js';\nimport disposeObjects from '../utils/dispose-objects';\nconsole.log(GlitchPass);\n\nfunction Art() {\n  var inputEl = useRef(null);\n  useEffect(function () {\n    return function () {\n      require('../utils/dispose-objects');\n\n      disposeObjects(inputEl.renderer, inputEl);\n    };\n  }, []);\n  useEffect(function () {\n    var scene = new Scene();\n    var camera = new PerspectiveCamera(75, inputEl.current.offsetWidth / inputEl.current.offsetHeight, 0.1, 1000);\n    var renderer = new WebGLRenderer({\n      antialias: true\n    });\n    renderer.setPixelRatio(inputEl.current.offsetWidth / inputEl.current.offsetHeight);\n    renderer.setSize(inputEl.current.offsetWidth, inputEl.current.offsetHeight);\n    inputEl.current.append(renderer.domElement);\n    renderer.toneMapping = ReinhardToneMapping;\n    inputEl.current.addEventListener('mousemove', onPointerMove);\n    inputEl.current.addEventListener('resize', onWindowResize);\n    inputEl.current.addEventListener('click', onMouseClick);\n    var raycaster = new Raycaster();\n    var directionalLight = new DirectionalLight(0xff00ff, 0.5);\n    var groupThumb = new Group();\n    var groupFont = new Group();\n    var mouse = new Vector2();\n    var INTERSECTED;\n    var wireframe;\n    var matLineBasic;\n    var composer;\n    var redirect;\n    var glitchPass = new GlitchPass();\n    var begin = false;\n    var clock = new Clock();\n    var timer = 0.55;\n    var transitionBegin = false;\n    var matDark = new LineBasicMaterial({\n      color: 0x006699,\n      side: DoubleSide\n    });\n    var matLite = new MeshBasicMaterial({\n      color: 0x08fbff,\n      transparent: true,\n      opacity: 0.4,\n      side: DoubleSide\n    });\n    var idText = ['A Thousand\\nSplendid Suns\\n//amna', 'MRN\\n//mariana', 'Kissing Circles\\n//mia'];\n    var titleText = 'WE3 \\nGallery';\n    var enterMessage = 'click anywhere to enter';\n    var titleShapes;\n    var enterShapes;\n    var titleGeometry;\n    var text;\n    var enterGeo;\n    var nameGeo = [];\n\n    function onWindowResize() {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      composer.setSize(window.innerWidth, window.innerHeight);\n      camera.updateProjectionMatrix();\n    }\n\n    function onMouseClick(event) {\n      glitchPass.activate();\n      console.log(timer);\n\n      if (INTERSECTED && begin && !transitionBegin) {\n        redirect = INTERSECTED.userData.url;\n        transitionBegin = true;\n      }\n\n      if (!INTERSECTED) {\n        redirect = null;\n      }\n\n      if (!begin) {\n        camera.userData.targetZ = 80;\n        begin = true;\n      }\n    }\n\n    function onPointerMove(event) {\n      mouse.x = event.clientX / inputEl.current.offsetWidth * 2 - 1;\n      mouse.y = -(event.clientY / inputEl.current.offsetHeight) * 2 + 1;\n    }\n\n    function animate() {\n      if (transitionBegin) {\n        timer -= clock.getDelta();\n      }\n\n      if (timer <= 0) {\n        window.location.href = redirect;\n        cancelAnimationFrame(this);\n      } else {\n        requestAnimationFrame(animate);\n        render();\n        composer.render();\n      }\n    }\n\n    function render() {\n      camera.position.x += (mouse.x - camera.position.x) * 0.5;\n      camera.position.y += (-mouse.y - camera.position.y) * 1.5;\n\n      if (camera.position.z - camera.userData.targetZ > 5) {\n        camera.position.z -= 10 * 1.5;\n      }\n\n      camera.lookAt(scene.position);\n\n      if (begin) {\n        raycaster.setFromCamera(mouse, camera);\n        var intersects = raycaster.intersectObjects(groupThumb.children); //console.log(groupThumb.children);\n\n        if (intersects.length > 0) {\n          if (INTERSECTED !== intersects[0].object) {\n            if (INTERSECTED) {\n              INTERSECTED.material.emissive.setHex(INTERSECTED.currentHex);\n              INTERSECTED.material.emissiveIntensity = 0.5;\n            }\n\n            INTERSECTED = intersects[0].object; //console.log('new intersect ');\n\n            INTERSECTED.currentHex = INTERSECTED.material.emissive.getHex();\n            INTERSECTED.material.emissive.setHex(0x08fbff);\n            INTERSECTED.material.emissiveIntensity = 0.5;\n          }\n        } else {\n          if (INTERSECTED) {\n            INTERSECTED.material.emissive.setHex(INTERSECTED.currentHex);\n            INTERSECTED.material.emissiveIntensity = 0.5;\n          }\n\n          INTERSECTED = null;\n\n          if (text !== undefined) {\n            groupFont.remove(text);\n            text.geometry.dispose();\n          }\n\n          text = new Mesh(titleGeometry, matLite);\n          text.position.z = -800;\n          text.position.y = 300;\n          groupFont.add(text);\n        }\n      }\n\n      if (INTERSECTED) {\n        if (text !== undefined) {\n          groupFont.remove(text);\n          text.geometry.dispose();\n        }\n\n        text = new Mesh(nameGeo[INTERSECTED.userData.id], matLite);\n        text.position.z = -800;\n        text.position.y = 300;\n        groupFont.add(text);\n      }\n\n      renderer.render(scene, camera);\n    }\n\n    function init() {\n      scene.background = new Color(0x000000);\n      scene.fog = new Fog(0x050505, 2000, 3500);\n      scene.add(new AmbientLight(0x444444));\n      directionalLight.position.set(0, -1, 0);\n      scene.add(directionalLight);\n      var loader = new FontLoader();\n      loader.load('assets/fonts/Press_Start_2P/PressStart.json', function (font) {\n        titleShapes = font.generateShapes(titleText, 100);\n        enterShapes = font.generateShapes(enterMessage, 10);\n        titleGeometry = new ShapeGeometry(titleShapes);\n        enterGeo = new ShapeGeometry(enterShapes);\n        titleGeometry.computeBoundingBox();\n        enterGeo.computeBoundingBox();\n        var xMid = -0.5 * (titleGeometry.boundingBox.max.x - titleGeometry.boundingBox.min.x);\n        titleGeometry.translate(xMid, 0, 0);\n\n        for (var i = 0; i < idText.length; i++) {\n          nameGeo.push(new ShapeGeometry(font.generateShapes(idText[i], 85)));\n          nameGeo[i].computeBoundingBox();\n          nameGeo[i].translate(-0.5 * nameGeo[i].boundingBox.max.x - nameGeo[i].boundingBox.min.x, 0.3 * (nameGeo[i].boundingBox.max.y - nameGeo[i].boundingBox.min.y), 0);\n        }\n\n        text = new Mesh(geometry, matLite);\n        text.position.z = -800;\n        text.position.y = 300;\n        groupFont.add(text);\n        var enterText = new Mesh(enterGeo, matLite);\n        enterText.position.z = inputEl.current.offsetWidth / 2;\n        enterText.position.y = -300;\n        groupFont.add(enterText);\n        var holeShapes = [];\n\n        for (var _i = 0; _i < titleShapes.length; _i++) {\n          var shape = titleShapes[_i];\n\n          if (shape.holes && shape.holes.length > 0) {\n            for (var j = 0; j < shape.holes.length; j++) {\n              var hole = shape.holes[j];\n              holeShapes.push(hole);\n            }\n          }\n        }\n\n        titleShapes.push.apply(titleShapes, holeShapes);\n        var lineText = new Object3D();\n\n        for (var _i2 = 0; _i2 < titleShapes.length; _i2++) {\n          var _shape = titleShapes[_i2];\n\n          var points = _shape.getPoints();\n\n          var lineGeo = new BufferGeometry().setFromPoints(points);\n          lineGeo.translate(xMid, 0, 0);\n          var lineMesh = new Line(lineGeo, matDark);\n          lineText.add(lineMesh);\n        }\n\n        lineText.position.z = 500;\n        groupFont.add(lineText);\n      });\n      scene.add(groupFont);\n      var xLen = 20;\n      var offset = 5;\n      var geometry = new BoxGeometry(xLen, xLen, 1);\n\n      for (var i = 0; i < 3; i++) {\n        var texture = new TextureLoader().load('assets/images/thumbnails/artwork' + (i + 1) + '.png');\n        var mesh = new Mesh(geometry, new MeshLambertMaterial({\n          map: texture\n        }));\n        mesh.userData.url = '/gallery/artwork' + (i + 1) + '/';\n        mesh.userData.isSelected = false;\n        mesh.userData.id = i;\n        mesh.position.x = (-xLen - offset) * (i - 1);\n        mesh.position.z = 10;\n        groupThumb.add(mesh);\n      }\n\n      scene.add(groupThumb);\n      geometry = new PlaneGeometry(500, 500, 10, 10);\n      var geo = new WireframeGeometry(geometry);\n      matLineBasic = new LineBasicMaterial({\n        color: 0x9c08ff\n      });\n      wireframe = new LineSegments(geo, matLineBasic);\n      wireframe.computeLineDistances();\n      wireframe.visible = true;\n      wireframe.rotateX(Math.PI / 2);\n      wireframe.position.y -= xLen + offset;\n      scene.add(wireframe);\n      var renderScene = new RenderPass(scene, camera);\n      var bloomPass = new UnrealBloomPass(new Vector2(window.innerWidth, window.innerHeight), 2.6, 0.4, 0.01);\n      composer = new EffectComposer(renderer);\n      composer.addPass(renderScene);\n      composer.addPass(bloomPass);\n      composer.addPass(glitchPass);\n      camera.position.set(0, 75, 1300);\n      camera.userData.targetZ = 1300;\n      camera.lookAt(new Vector3(0, 0, 0));\n    }\n\n    init();\n    animate();\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    ref: inputEl\n  }));\n}\n\nexport default Art;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/ThreeCanvas\",\n      function () {\n        return require(\"private-next-pages/ThreeCanvas.js\");\n      }\n    ]);\n  "],"sourceRoot":""}