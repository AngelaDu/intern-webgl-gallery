{"version":3,"file":"static/chunks/719-2d9b78a7ba7c0927.js","mappings":"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","sources":["webpack://_N_E/./node_modules/lil-gui/dist/lil-gui.esm.js","webpack://_N_E/./node_modules/three/examples/jsm/postprocessing/MaskPass.js","webpack://_N_E/./node_modules/three/examples/jsm/postprocessing/EffectComposer.js","webpack://_N_E/./node_modules/three/examples/jsm/postprocessing/Pass.js","webpack://_N_E/./node_modules/three/examples/jsm/postprocessing/RenderPass.js","webpack://_N_E/./node_modules/three/examples/jsm/postprocessing/ShaderPass.js","webpack://_N_E/./node_modules/three/examples/jsm/shaders/CopyShader.js"],"sourcesContent":["/**\n * lil-gui\n * https://lil-gui.georgealways.com\n * @version 0.15.0\n * @author George Michael Brower\n * @license MIT\n */\n\n/**\n * Base class for all controllers.\n */\nclass Controller {\n\n\tconstructor( parent, object, property, className, widgetTag = 'div' ) {\n\n\t\t/**\n\t\t * The GUI that contains this controller.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The object this controller will modify.\n\t\t * @type {object}\n\t\t */\n\t\tthis.object = object;\n\n\t\t/**\n\t\t * The name of the property to control.\n\t\t * @type {string}\n\t\t */\n\t\tthis.property = property;\n\n\t\t/**\n\t\t * Used to determine if the controller is disabled.\n\t\t * Use `controller.disable( true|false )` to modify this value\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._disabled = false;\n\n\t\t/**\n\t\t * The value of `object[ property ]` when the controller was created.\n\t\t * @type {any}\n\t\t */\n\t\tthis.initialValue = this.getValue();\n\n\t\t/**\n\t\t * The outermost container DOM element for this controller.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.classList.add( 'controller' );\n\t\tthis.domElement.classList.add( className );\n\n\t\t/**\n\t\t * The DOM element that contains the controller's name.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$name = document.createElement( 'div' );\n\t\tthis.$name.classList.add( 'name' );\n\n\t\tController.nextNameID = Controller.nextNameID || 0;\n\t\tthis.$name.id = `lil-gui-name-${++Controller.nextNameID}`;\n\n\t\t/**\n\t\t * The DOM element that contains the controller's \"widget\" (which differs by controller type).\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$widget = document.createElement( widgetTag );\n\t\tthis.$widget.classList.add( 'widget' );\n\n\t\t/**\n\t\t * The DOM element that receives the disabled attribute when using disable()\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$disable = this.$widget;\n\n\t\tthis.domElement.appendChild( this.$name );\n\t\tthis.domElement.appendChild( this.$widget );\n\n\t\tthis.parent.children.push( this );\n\t\tthis.parent.controllers.push( this );\n\n\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\tthis._listenCallback = this._listenCallback.bind( this );\n\n\t\tthis.name( property );\n\n\t}\n\n\t/**\n\t * Sets the name of the controller and its label in the GUI.\n\t * @param {string} name\n\t * @returns {this}\n\t */\n\tname( name ) {\n\t\t/**\n\t\t * The controller's name. Use `controller.name( 'Name' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._name = name;\n\t\tthis.$name.innerHTML = name;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever the value is modified by this controller.\n\t * The function receives the new value as its first parameter. The value of `this` will be the\n\t * controller.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onChange( function( v ) {\n\t * \tconsole.log( 'The value is now ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value directly.\n\t\t * Use the `controller.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls the onChange methods of this controller and its parent GUI.\n\t * @protected\n\t */\n\t_callOnChange() {\n\n\t\tthis.parent._callOnChange( this );\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, this.getValue() );\n\t\t}\n\n\t\tthis._changed = true;\n\n\t}\n\n\t/**\n\t * Pass a function to be called after this controller has been modified and loses focus.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onFinishChange( function( v ) {\n\t * \tconsole.log( 'Changes complete: ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `controller.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Should be called by Controller when its widgets lose focus.\n\t * @protected\n\t */\n\t_callOnFinishChange() {\n\n\t\tif ( this._changed ) {\n\n\t\t\tthis.parent._callOnFinishChange( this );\n\n\t\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\t\tthis._onFinishChange.call( this, this.getValue() );\n\t\t\t}\n\n\t\t}\n\n\t\tthis._changed = false;\n\n\t}\n\n\t/**\n\t * Sets the controller back to its initial value.\n\t * @returns {this}\n\t */\n\treset() {\n\t\tthis.setValue( this.initialValue );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Enables this controller.\n\t * @param {boolean} enabled\n\t * @returns {this}\n\t * @example\n\t * controller.enable();\n\t * controller.enable( false ); // disable\n\t * controller.enable( controller._disabled ); // toggle\n\t */\n\tenable( enabled = true ) {\n\t\treturn this.disable( !enabled );\n\t}\n\n\t/**\n\t * Disables this controller.\n\t * @param {boolean} disabled\n\t * @returns {this}\n\t * @example\n\t * controller.disable();\n\t * controller.disable( false ); // enable\n\t * controller.disable( !controller._disabled ); // toggle\n\t */\n\tdisable( disabled = true ) {\n\n\t\tif ( disabled === this._disabled ) return this;\n\n\t\tthis._disabled = disabled;\n\n\t\tthis.domElement.classList.toggle( 'disabled', disabled );\n\t\tthis.$disable.toggleAttribute( 'disabled', disabled );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Destroys this controller and replaces it with a new option controller. Provided as a more\n\t * descriptive syntax for `gui.add`, but primarily for compatibility with dat.gui.\n\t *\n\t * Use caution, as this method will destroy old references to this controller. It will also\n\t * change controller order if called out of sequence, moving the option controller to the end of\n\t * the GUI.\n\t * @example\n\t * // safe usage\n\t *\n\t * gui.add( object1, 'property' ).options( [ 'a', 'b', 'c' ] );\n\t * gui.add( object2, 'property' );\n\t *\n\t * // danger\n\t *\n\t * const c = gui.add( object1, 'property' );\n\t * gui.add( object2, 'property' );\n\t *\n\t * c.options( [ 'a', 'b', 'c' ] );\n\t * // controller is now at the end of the GUI even though it was added first\n\t *\n\t * assert( c.parent.children.indexOf( c ) === -1 )\n\t * // c references a controller that no longer exists\n\t *\n\t * @param {object|Array} options\n\t * @returns {Controller}\n\t */\n\toptions( options ) {\n\t\tconst controller = this.parent.add( this.object, this.property, options );\n\t\tcontroller.name( this._name );\n\t\tthis.destroy();\n\t\treturn controller;\n\t}\n\n\t/**\n\t * Sets the minimum value. Only works on number controllers.\n\t * @param {number} min\n\t * @returns {this}\n\t */\n\tmin( min ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the maximum value. Only works on number controllers.\n\t * @param {number} max\n\t * @returns {this}\n\t */\n\tmax( max ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the step. Only works on number controllers.\n\t * @param {number} step\n\t * @returns {this}\n\t */\n\tstep( step ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls `updateDisplay()` every animation frame. Pass `false` to stop listening.\n\t * @param {boolean} listen\n\t * @returns {this}\n\t */\n\tlisten( listen = true ) {\n\n\t\t/**\n\t\t * Used to determine if the controller is currently listening. Don't modify this value\n\t\t * directly. Use the `controller.listen( true|false )` method instead.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._listening = listen;\n\n\t\tif ( this._listenCallbackID !== undefined ) {\n\t\t\tcancelAnimationFrame( this._listenCallbackID );\n\t\t\tthis._listenCallbackID = undefined;\n\t\t}\n\n\t\tif ( this._listening ) {\n\t\t\tthis._listenCallback();\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_listenCallback() {\n\t\tthis._listenCallbackID = requestAnimationFrame( this._listenCallback );\n\t\tthis.updateDisplay();\n\t}\n\n\t/**\n\t * Returns `object[ property ]`.\n\t * @returns {any}\n\t */\n\tgetValue() {\n\t\treturn this.object[ this.property ];\n\t}\n\n\t/**\n\t * Sets the value of `object[ property ]`, invokes any `onChange` handlers and updates the display.\n\t * @param {any} value\n\t * @returns {this}\n\t */\n\tsetValue( value ) {\n\t\tthis.object[ this.property ] = value;\n\t\tthis._callOnChange();\n\t\tthis.updateDisplay();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Updates the display to keep it in sync with the current value. Useful for updating your\n\t * controllers when their values have been modified outside of the GUI.\n\t * @returns {this}\n\t */\n\tupdateDisplay() {\n\t\treturn this;\n\t}\n\n\tload( value ) {\n\t\tthis.setValue( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tsave() {\n\t\treturn this.getValue();\n\t}\n\n\t/**\n\t * Destroys this controller and removes it from the parent GUI.\n\t */\n\tdestroy() {\n\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\tthis.parent.controllers.splice( this.parent.controllers.indexOf( this ), 1 );\n\t\tthis.parent.$children.removeChild( this.domElement );\n\t}\n\n\t/**\n\t * Stops propagation of `keyup` and `keydown` events for `el`. Used on inputs\n\t * that allow typing to prevent triggering global key commands.\n\t * @param {HTMLElement} el\n\t * @protected\n\t */\n\t_captureKeyEvents( el ) {\n\t\tel.addEventListener( 'keydown', e => e.stopPropagation() );\n\t\tel.addEventListener( 'keyup', e => e.stopPropagation() );\n\t}\n\n}\n\nclass BooleanController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'boolean', 'label' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'checkbox' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$input.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this.$input.checked );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.checked = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nfunction normalizeColorString( string ) {\n\n\tlet match, result;\n\n\tif ( match = string.match( /(#|0x)?([a-f0-9]{6})/i ) ) {\n\n\t\tresult = match[ 2 ];\n\n\t} else if ( match = string.match( /rgb\\(\\s*(\\d*)\\s*,\\s*(\\d*)\\s*,\\s*(\\d*)\\s*\\)/ ) ) {\n\n\t\tresult = parseInt( match[ 1 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 2 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 3 ] ).toString( 16 ).padStart( 2, 0 );\n\n\t} else if ( match = string.match( /^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i ) ) {\n\n\t\tresult = match[ 1 ] + match[ 1 ] + match[ 2 ] + match[ 2 ] + match[ 3 ] + match[ 3 ];\n\n\t}\n\n\tif ( result ) {\n\t\treturn '#' + result;\n\t}\n\n\treturn false;\n\n}\n\nconst STRING = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'string',\n\tfromHexString: normalizeColorString,\n\ttoHexString: normalizeColorString\n};\n\nconst INT = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'number',\n\tfromHexString: string => parseInt( string.substring( 1 ), 16 ),\n\ttoHexString: value => '#' + value.toString( 16 ).padStart( 6, 0 )\n};\n\nconst ARRAY = {\n\tisPrimitive: false,\n\tmatch: Array.isArray,\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget[ 0 ] = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 1 ] = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 2 ] = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( [ r, g, b ], rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = ( r * rgbScale ) << 16 ^\n\t\t\t( g * rgbScale ) << 8 ^\n\t\t\t( b * rgbScale ) << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst OBJECT = {\n\tisPrimitive: false,\n\tmatch: v => Object( v ) === v,\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget.r = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget.g = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget.b = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( { r, g, b }, rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = ( r * rgbScale ) << 16 ^\n\t\t\t( g * rgbScale ) << 8 ^\n\t\t\t( b * rgbScale ) << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst FORMATS = [ STRING, INT, ARRAY, OBJECT ];\n\nfunction getColorFormat( value ) {\n\treturn FORMATS.find( format => format.match( value ) );\n}\n\nclass ColorController extends Controller {\n\n\tconstructor( parent, object, property, rgbScale ) {\n\n\t\tsuper( parent, object, property, 'color' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'color' );\n\t\tthis.$input.setAttribute( 'tabindex', -1 );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$text = document.createElement( 'input' );\n\t\tthis.$text.setAttribute( 'type', 'text' );\n\t\tthis.$text.setAttribute( 'spellcheck', 'false' );\n\t\tthis.$text.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'display' );\n\n\t\tthis.$display.appendChild( this.$input );\n\t\tthis.$widget.appendChild( this.$display );\n\t\tthis.$widget.appendChild( this.$text );\n\n\t\tthis._format = getColorFormat( this.initialValue );\n\t\tthis._rgbScale = rgbScale;\n\n\t\tthis._initialValueHexString = this.save();\n\t\tthis._textFocused = false;\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis._setValueFromHexString( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'input', () => {\n\t\t\tconst tryParse = normalizeColorString( this.$text.value );\n\t\t\tif ( tryParse ) {\n\t\t\t\tthis._setValueFromHexString( tryParse );\n\t\t\t}\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'focus', () => {\n\t\t\tthis._textFocused = true;\n\t\t\tthis.$text.select();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'blur', () => {\n\t\t\tthis._textFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$text;\n\n\t\tthis._captureKeyEvents( this.$text );\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\treset() {\n\t\tthis._setValueFromHexString( this._initialValueHexString );\n\t\treturn this;\n\t}\n\n\t_setValueFromHexString( value ) {\n\n\t\tif ( this._format.isPrimitive ) {\n\n\t\t\tconst newValue = this._format.fromHexString( value );\n\t\t\tthis.setValue( newValue );\n\n\t\t} else {\n\n\t\t\tthis._format.fromHexString( value, this.getValue(), this._rgbScale );\n\t\t\tthis._callOnChange();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\tsave() {\n\t\treturn this._format.toHexString( this.getValue(), this._rgbScale );\n\t}\n\n\tload( value ) {\n\t\tthis._setValueFromHexString( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this._format.toHexString( this.getValue(), this._rgbScale );\n\t\tif ( !this._textFocused ) {\n\t\t\tthis.$text.value = this.$input.value.substring( 1 );\n\t\t}\n\t\tthis.$display.style.backgroundColor = this.$input.value;\n\t\treturn this;\n\t}\n\n}\n\nclass FunctionController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'function' );\n\n\t\t// Buttons are the only case where widget contains name\n\t\tthis.$button = document.createElement( 'button' );\n\t\tthis.$button.appendChild( this.$name );\n\t\tthis.$widget.appendChild( this.$button );\n\n\t\tthis.$button.addEventListener( 'click', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.getValue().call( this.object );\n\t\t} );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$button.addEventListener( 'touchstart', () => { } );\n\n\t\tthis.$disable = this.$button;\n\n\t}\n\n}\n\nclass NumberController extends Controller {\n\n\tconstructor( parent, object, property, min, max, step ) {\n\n\t\tsuper( parent, object, property, 'number' );\n\n\t\tthis._initInput();\n\n\t\tthis.min( min );\n\t\tthis.max( max );\n\n\t\tconst stepExplicit = step !== undefined;\n\t\tthis.step( stepExplicit ? step : this._getImplicitStep(), stepExplicit );\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tmin( min ) {\n\t\tthis._min = min;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tmax( max ) {\n\t\tthis._max = max;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tstep( step, explicit = true ) {\n\t\tthis._step = step;\n\t\tthis._stepExplicit = explicit;\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\n\t\tconst value = this.getValue();\n\n\t\tif ( this._hasSlider ) {\n\n\t\t\tlet percent = ( value - this._min ) / ( this._max - this._min );\n\t\t\tpercent = Math.max( 0, Math.min( percent, 1 ) );\n\n\t\t\tthis.$fill.style.width = percent * 100 + '%';\n\n\t\t}\n\n\t\tif ( !this._inputFocused ) {\n\t\t\tthis.$input.value = value;\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_initInput() {\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'number' );\n\t\tthis.$input.setAttribute( 'step', 'any' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis._captureKeyEvents( this.$input );\n\n\t\tconst onInput = () => {\n\n\t\t\tconst value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tthis.setValue( this._clamp( value ) );\n\n\t\t};\n\n\t\t// Keys & mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst increment = delta => {\n\n\t\t\tconst value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tthis._snapClampSetValue( value + delta );\n\n\t\t\t// Force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t};\n\n\t\tconst onKeyDown = e => {\n\t\t\tif ( e.code === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowUp' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) );\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowDown' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) * -1 );\n\t\t\t}\n\t\t};\n\n\t\tconst onWheel = e => {\n\t\t\tif ( this._inputFocused ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._normalizeMouseWheel( e ) );\n\t\t\t}\n\t\t};\n\n\t\t// Vertical drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForVerticalDrag = false,\n\t\t\tinitClientX,\n\t\t\tinitClientY,\n\t\t\tprevClientY,\n\t\t\tinitValue,\n\t\t\tdragDelta;\n\n\t\t// Once the mouse is dragged more than DRAG_THRESH px on any axis, we decide\n\t\t// on the user's intent: horizontal means highlight, vertical means drag.\n\t\tconst DRAG_THRESH = 5;\n\n\t\tconst onMouseDown = e => {\n\n\t\t\tinitClientX = e.clientX;\n\t\t\tinitClientY = prevClientY = e.clientY;\n\t\t\ttestingForVerticalDrag = true;\n\n\t\t\tinitValue = this.getValue();\n\t\t\tdragDelta = 0;\n\n\t\t\twindow.addEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.addEventListener( 'mouseup', onMouseUp );\n\n\t\t};\n\n\t\tconst onMouseMove = e => {\n\n\t\t\tif ( testingForVerticalDrag ) {\n\n\t\t\t\tconst dx = e.clientX - initClientX;\n\t\t\t\tconst dy = e.clientY - initClientY;\n\n\t\t\t\tif ( Math.abs( dy ) > DRAG_THRESH ) {\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.$input.blur();\n\t\t\t\t\ttestingForVerticalDrag = false;\n\t\t\t\t\tthis._setDraggingStyle( true, 'vertical' );\n\n\t\t\t\t} else if ( Math.abs( dx ) > DRAG_THRESH ) {\n\n\t\t\t\t\tonMouseUp();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// This isn't an else so that the first move counts towards dragDelta\n\t\t\tif ( !testingForVerticalDrag ) {\n\n\t\t\t\tconst dy = e.clientY - prevClientY;\n\n\t\t\t\tdragDelta -= dy * this._step * this._arrowKeyMultiplier( e );\n\n\t\t\t\t// Clamp dragDelta so we don't have 'dead space' after dragging past bounds.\n\t\t\t\t// We're okay with the fact that bounds can be undefined here.\n\t\t\t\tif ( initValue + dragDelta > this._max ) {\n\t\t\t\t\tdragDelta = this._max - initValue;\n\t\t\t\t} else if ( initValue + dragDelta < this._min ) {\n\t\t\t\t\tdragDelta = this._min - initValue;\n\t\t\t\t}\n\n\t\t\t\tthis._snapClampSetValue( initValue + dragDelta );\n\n\t\t\t}\n\n\t\t\tprevClientY = e.clientY;\n\n\t\t};\n\n\t\tconst onMouseUp = () => {\n\t\t\tthis._setDraggingStyle( false, 'vertical' );\n\t\t\tthis._callOnFinishChange();\n\t\t\twindow.removeEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', onMouseUp );\n\t\t};\n\n\t\t// Focus state & onFinishChange\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst onFocus = () => {\n\t\t\tthis._inputFocused = true;\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tthis._inputFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t};\n\n\t\tthis.$input.addEventListener( 'input', onInput );\n\t\tthis.$input.addEventListener( 'keydown', onKeyDown );\n\t\tthis.$input.addEventListener( 'wheel', onWheel );\n\t\tthis.$input.addEventListener( 'mousedown', onMouseDown );\n\t\tthis.$input.addEventListener( 'focus', onFocus );\n\t\tthis.$input.addEventListener( 'blur', onBlur );\n\n\t}\n\n\t_initSlider() {\n\n\t\tthis._hasSlider = true;\n\n\t\t// Build DOM\n\t\t// ---------------------------------------------------------------------\n\n\t\tthis.$slider = document.createElement( 'div' );\n\t\tthis.$slider.classList.add( 'slider' );\n\n\t\tthis.$fill = document.createElement( 'div' );\n\t\tthis.$fill.classList.add( 'fill' );\n\n\t\tthis.$slider.appendChild( this.$fill );\n\t\tthis.$widget.insertBefore( this.$slider, this.$input );\n\n\t\tthis.domElement.classList.add( 'hasSlider' );\n\n\t\t// Map clientX to value\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst map = ( v, a, b, c, d ) => {\n\t\t\treturn ( v - a ) / ( b - a ) * ( d - c ) + c;\n\t\t};\n\n\t\tconst setValueFromX = clientX => {\n\t\t\tconst rect = this.$slider.getBoundingClientRect();\n\t\t\tlet value = map( clientX, rect.left, rect.right, this._min, this._max );\n\t\t\tthis._snapClampSetValue( value );\n\t\t};\n\n\t\t// Mouse drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst mouseDown = e => {\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.clientX );\n\t\t\twindow.addEventListener( 'mousemove', mouseMove );\n\t\t\twindow.addEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\tconst mouseMove = e => {\n\t\t\tsetValueFromX( e.clientX );\n\t\t};\n\n\t\tconst mouseUp = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'mousemove', mouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\t// Touch drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForScroll = false, prevClientX, prevClientY;\n\n\t\tconst beginTouchDrag = e => {\n\t\t\te.preventDefault();\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\t\t\ttestingForScroll = false;\n\t\t};\n\n\t\tconst onTouchStart = e => {\n\n\t\t\tif ( e.touches.length > 1 ) return;\n\n\t\t\t// If we're in a scrollable container, we should wait for the first\n\t\t\t// touchmove to see if the user is trying to slide or scroll.\n\t\t\tif ( this._hasScrollBar ) {\n\n\t\t\t\tprevClientX = e.touches[ 0 ].clientX;\n\t\t\t\tprevClientY = e.touches[ 0 ].clientY;\n\t\t\t\ttestingForScroll = true;\n\n\t\t\t} else {\n\n\t\t\t\t// Otherwise, we can set the value straight away on touchstart.\n\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t}\n\n\t\t\twindow.addEventListener( 'touchmove', onTouchMove );\n\t\t\twindow.addEventListener( 'touchend', onTouchEnd );\n\n\t\t};\n\n\t\tconst onTouchMove = e => {\n\n\t\t\tif ( testingForScroll ) {\n\n\t\t\t\tconst dx = e.touches[ 0 ].clientX - prevClientX;\n\t\t\t\tconst dy = e.touches[ 0 ].clientY - prevClientY;\n\n\t\t\t\tif ( Math.abs( dx ) > Math.abs( dy ) ) {\n\n\t\t\t\t\t// We moved horizontally, set the value and stop checking.\n\t\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// This was, in fact, an attempt to scroll. Abort.\n\t\t\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\te.preventDefault();\n\t\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst onTouchEnd = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\t\t};\n\n\t\t// Mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\t// We have to use a debounced function to call onFinishChange because\n\t\t// there's no way to tell when the user is \"done\" mouse-wheeling.\n\t\tconst callOnFinishChange = this._callOnFinishChange.bind( this );\n\t\tconst WHEEL_DEBOUNCE_TIME = 400;\n\t\tlet wheelFinishChangeTimeout;\n\n\t\tconst onWheel = e => {\n\n\t\t\t// ignore vertical wheels if there's a scrollbar\n\t\t\tconst isVertical = Math.abs( e.deltaX ) < Math.abs( e.deltaY );\n\t\t\tif ( isVertical && this._hasScrollBar ) return;\n\n\t\t\te.preventDefault();\n\n\t\t\t// set value\n\t\t\tconst delta = this._normalizeMouseWheel( e ) * this._step;\n\t\t\tthis._snapClampSetValue( this.getValue() + delta );\n\n\t\t\t// force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t\t// debounce onFinishChange\n\t\t\tclearTimeout( wheelFinishChangeTimeout );\n\t\t\twheelFinishChangeTimeout = setTimeout( callOnFinishChange, WHEEL_DEBOUNCE_TIME );\n\n\t\t};\n\n\t\tthis.$slider.addEventListener( 'mousedown', mouseDown );\n\t\tthis.$slider.addEventListener( 'touchstart', onTouchStart );\n\t\tthis.$slider.addEventListener( 'wheel', onWheel );\n\n\t}\n\n\t_setDraggingStyle( active, axis = 'horizontal' ) {\n\t\tif ( this.$slider ) {\n\t\t\tthis.$slider.classList.toggle( 'active', active );\n\t\t}\n\t\tdocument.body.classList.toggle( 'lil-gui-dragging', active );\n\t\tdocument.body.classList.toggle( `lil-gui-${axis}`, active );\n\t}\n\n\t_getImplicitStep() {\n\n\t\tif ( this._hasMin && this._hasMax ) {\n\t\t\treturn ( this._max - this._min ) / 1000;\n\t\t}\n\n\t\treturn 0.1;\n\n\t}\n\n\t_onUpdateMinMax() {\n\n\t\tif ( !this._hasSlider && this._hasMin && this._hasMax ) {\n\n\t\t\t// If this is the first time we're hearing about min and max\n\t\t\t// and we haven't explicitly stated what our step is, let's\n\t\t\t// update that too.\n\t\t\tif ( !this._stepExplicit ) {\n\t\t\t\tthis.step( this._getImplicitStep(), false );\n\t\t\t}\n\n\t\t\tthis._initSlider();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\t_normalizeMouseWheel( e ) {\n\n\t\tlet { deltaX, deltaY } = e;\n\n\t\t// Safari and Chrome report weird non-integral values for a notched wheel,\n\t\t// but still expose actual lines scrolled via wheelDelta. Notched wheels\n\t\t// should behave the same way as arrow keys.\n\t\tif ( Math.floor( e.deltaY ) !== e.deltaY && e.wheelDelta ) {\n\t\t\tdeltaX = 0;\n\t\t\tdeltaY = -e.wheelDelta / 120;\n\t\t\tdeltaY *= this._stepExplicit ? 1 : 10;\n\t\t}\n\n\t\tconst wheel = deltaX + -deltaY;\n\n\t\treturn wheel;\n\n\t}\n\n\t_arrowKeyMultiplier( e ) {\n\n\t\tlet mult = this._stepExplicit ? 1 : 10;\n\n\t\tif ( e.shiftKey ) {\n\t\t\tmult *= 10;\n\t\t} else if ( e.altKey ) {\n\t\t\tmult /= 10;\n\t\t}\n\n\t\treturn mult;\n\n\t}\n\n\t_snap( value ) {\n\n\t\t// This would be the logical way to do things, but floating point errors.\n\t\t// return Math.round( value / this._step ) * this._step;\n\n\t\t// Using inverse step solves a lot of them, but not all\n\t\t// const inverseStep = 1 / this._step;\n\t\t// return Math.round( value * inverseStep ) / inverseStep;\n\n\t\t// Not happy about this, but haven't seen it break.\n\t\tconst r = Math.round( value / this._step ) * this._step;\n\t\treturn parseFloat( r.toPrecision( 15 ) );\n\n\t}\n\n\t_clamp( value ) {\n\t\t// either condition is false if min or max is undefined\n\t\tif ( value < this._min ) value = this._min;\n\t\tif ( value > this._max ) value = this._max;\n\t\treturn value;\n\t}\n\n\t_snapClampSetValue( value ) {\n\t\tthis.setValue( this._clamp( this._snap( value ) ) );\n\t}\n\n\tget _hasScrollBar() {\n\t\tconst root = this.parent.root.$children;\n\t\treturn root.scrollHeight > root.clientHeight;\n\t}\n\n\tget _hasMin() {\n\t\treturn this._min !== undefined;\n\t}\n\n\tget _hasMax() {\n\t\treturn this._max !== undefined;\n\t}\n\n}\n\nclass OptionController extends Controller {\n\n\tconstructor( parent, object, property, options ) {\n\n\t\tsuper( parent, object, property, 'option' );\n\n\t\tthis.$select = document.createElement( 'select' );\n\t\tthis.$select.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'display' );\n\n\t\tthis._values = Array.isArray( options ) ? options : Object.values( options );\n\t\tthis._names = Array.isArray( options ) ? options : Object.keys( options );\n\n\t\tthis._names.forEach( name => {\n\t\t\tconst $option = document.createElement( 'option' );\n\t\t\t$option.innerHTML = name;\n\t\t\tthis.$select.appendChild( $option );\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this._values[ this.$select.selectedIndex ] );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'focus', () => {\n\t\t\tthis.$display.classList.add( 'focus' );\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'blur', () => {\n\t\t\tthis.$display.classList.remove( 'focus' );\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$select );\n\t\tthis.$widget.appendChild( this.$display );\n\n\t\tthis.$disable = this.$select;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tconst value = this.getValue();\n\t\tconst index = this._values.indexOf( value );\n\t\tthis.$select.selectedIndex = index;\n\t\tthis.$display.innerHTML = index === -1 ? value : this._names[ index ];\n\t\treturn this;\n\t}\n\n}\n\nclass StringController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'string' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'text' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis.setValue( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'keydown', e => {\n\t\t\tif ( e.code === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis._captureKeyEvents( this.$input );\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nconst stylesheet = `.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  background-color: var(--background-color);\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, \"Droid Sans Mono\", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n}\n.lil-gui.root > .title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.root > .children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.root > .children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.allow-touch-styles {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --widget-padding: 0 0 0 3px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.force-touch-styles {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --widget-padding: 0 0 0 3px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-gui .controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-gui .controller.disabled {\n  opacity: 0.5;\n}\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\n  pointer-events: none !important;\n}\n.lil-gui .controller > .name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-gui .controller .widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-gui .controller.string input {\n  color: var(--string-color);\n}\n.lil-gui .controller.boolean .widget {\n  cursor: pointer;\n}\n.lil-gui .controller.color .display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-gui .controller.color .display:hover:before {\n    content: \" \";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-gui .controller.color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-gui .controller.color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-gui .controller.option .display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .display.focus {\n    background: var(--focus-color);\n  }\n}\n.lil-gui .controller.option .display.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.option .display:after {\n  font-family: \"lil-gui\";\n  content: \"↕\";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-gui .controller.option .widget,\n.lil-gui .controller.option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .widget:hover .display {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number input {\n  color: var(--number-color);\n}\n.lil-gui .controller.number.hasSlider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.number .slider {\n  width: 100%;\n  height: var(--widget-height);\n  background-color: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-gui .controller.number .slider:hover {\n    background-color: var(--hover-color);\n  }\n}\n.lil-gui .controller.number .slider.active {\n  background-color: var(--focus-color);\n}\n.lil-gui .controller.number .slider.active .fill {\n  opacity: 0.95;\n}\n.lil-gui .controller.number .fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-gui-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-gui-dragging * {\n  cursor: ew-resize !important;\n}\n\n.lil-gui-dragging.lil-gui-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .title {\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  height: var(--title-height);\n  line-height: calc(var(--title-height) - 4px);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  -webkit-tap-highlight-color: transparent;\n  cursor: pointer;\n  outline: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .title:before {\n  font-family: \"lil-gui\";\n  content: \"▾\";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.root > .title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.closed > .title:before {\n  content: \"▸\";\n}\n.lil-gui.closed > .children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.closed:not(.transition) > .children {\n  display: none;\n}\n.lil-gui.transition > .children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .children:empty:before {\n  content: \"Empty\";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.root > .children > .lil-gui > .title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.root > .children > .lil-gui.closed > .title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .controller {\n  border: none;\n}\n\n.lil-gui input {\n  -webkit-tap-highlight-color: transparent;\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input::-webkit-outer-spin-button,\n.lil-gui input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.lil-gui input[type=number] {\n  -moz-appearance: textfield;\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  -webkit-appearance: none;\n  height: var(--checkbox-size);\n  width: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: \"lil-gui\";\n  content: \"✓\";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  border: 1px solid var(--widget-color);\n  text-align: center;\n  line-height: calc(var(--widget-height) - 4px);\n}\n@media (hover: hover) {\n  .lil-gui button:hover {\n    background: var(--hover-color);\n    border-color: var(--hover-color);\n  }\n  .lil-gui button:focus {\n    border-color: var(--focus-color);\n  }\n}\n.lil-gui button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: \"lil-gui\";\n  src: url(\"data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==\") format(\"woff\");\n}`;\n\nfunction _injectStyles( cssContent ) {\n\tconst injected = document.createElement( 'style' );\n\tinjected.innerHTML = cssContent;\n\tconst before = document.querySelector( 'head link[rel=stylesheet], head style' );\n\tif ( before ) {\n\t\tdocument.head.insertBefore( injected, before );\n\t} else {\n\t\tdocument.head.appendChild( injected );\n\t}\n}\n\nlet stylesInjected = false;\n\nclass GUI {\n\n\t/**\n\t * Creates a panel that holds controllers.\n\t * @example\n\t * new GUI();\n\t * new GUI( { container: document.getElementById( 'custom' ) } );\n\t *\n\t * @param {object} [options]\n\t * @param {boolean} [options.autoPlace=true]\n\t * Adds the GUI to `document.body` and fixes it to the top right of the page.\n\t *\n\t * @param {HTMLElement} [options.container]\n\t * Adds the GUI to this DOM element. Overrides `autoPlace`.\n\t *\n\t * @param {number} [options.width=245]\n\t * Width of the GUI in pixels, usually set when name labels become too long. Note that you can make\n\t * name labels wider in CSS with `.lil‑gui { ‑‑name‑width: 55% }`\n\t *\n\t * @param {string} [options.title=Controls]\n\t * Name to display in the title bar.\n\t *\n\t * @param {boolean} [options.injectStyles=true]\n\t * Injects the default stylesheet into the page if this is the first GUI.\n\t * Pass `false` to use your own stylesheet.\n\t *\n\t * @param {number} [options.touchStyles=true]\n\t * Makes controllers larger on touch devices. Pass `false` to disable touch styles.\n\t *\n\t * @param {GUI} [options.parent]\n\t * Adds this GUI as a child in another GUI. Usually this is done for you by `addFolder()`.\n\t *\n\t */\n\tconstructor( {\n\t\tparent,\n\t\tautoPlace = parent === undefined,\n\t\tcontainer,\n\t\twidth,\n\t\ttitle = 'Controls',\n\t\tinjectStyles = true,\n\t\ttouchStyles = true\n\t} = {} ) {\n\n\t\t/**\n\t\t * The GUI containing this folder, or `undefined` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The top level GUI containing this folder, or `this` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.root = parent ? parent.root : this;\n\n\t\t/**\n\t\t * The list of controllers and folders contained by this GUI.\n\t\t * @type {Array<GUI|Controller>}\n\t\t */\n\t\tthis.children = [];\n\n\t\t/**\n\t\t * The list of controllers contained by this GUI.\n\t\t * @type {Array<Controller>}\n\t\t */\n\t\tthis.controllers = [];\n\n\t\t/**\n\t\t * The list of folders contained by this GUI.\n\t\t * @type {Array<GUI>}\n\t\t */\n\t\tthis.folders = [];\n\n\t\t/**\n\t\t * Used to determine if the GUI is closed. Use `gui.open()` or `gui.close()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._closed = false;\n\n\t\t/**\n\t\t * The outermost container element.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.classList.add( 'lil-gui' );\n\n\t\t/**\n\t\t * The DOM element that contains the title.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$title = document.createElement( 'div' );\n\t\tthis.$title.classList.add( 'title' );\n\t\tthis.$title.setAttribute( 'role', 'button' );\n\t\tthis.$title.setAttribute( 'aria-expanded', true );\n\t\tthis.$title.setAttribute( 'tabindex', 0 );\n\n\t\tthis.$title.addEventListener( 'click', () => this.openAnimated( this._closed ) );\n\t\tthis.$title.addEventListener( 'keydown', e => {\n\t\t\tif ( e.code === 'Enter' || e.code === 'Space' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.$title.click();\n\t\t\t}\n\t\t} );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$title.addEventListener( 'touchstart', () => { } );\n\n\t\t/**\n\t\t * The DOM element that contains children.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$children = document.createElement( 'div' );\n\t\tthis.$children.classList.add( 'children' );\n\n\t\tthis.domElement.appendChild( this.$title );\n\t\tthis.domElement.appendChild( this.$children );\n\n\t\tthis.title( title );\n\n\t\tif ( touchStyles ) {\n\t\t\tthis.domElement.classList.add( 'allow-touch-styles' );\n\t\t}\n\n\t\tif ( this.parent ) {\n\n\t\t\tthis.parent.children.push( this );\n\t\t\tthis.parent.folders.push( this );\n\n\t\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\t\t// Stop the constructor early, everything onward only applies to root GUI's\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.domElement.classList.add( 'root' );\n\n\t\t// Inject stylesheet if we haven't done that yet\n\t\tif ( !stylesInjected && injectStyles ) {\n\t\t\t_injectStyles( stylesheet );\n\t\t\tstylesInjected = true;\n\t\t}\n\n\t\tif ( container ) {\n\n\t\t\tcontainer.appendChild( this.domElement );\n\n\t\t} else if ( autoPlace ) {\n\n\t\t\tthis.domElement.classList.add( 'autoPlace' );\n\t\t\tdocument.body.appendChild( this.domElement );\n\n\t\t}\n\n\t\tif ( width ) {\n\t\t\tthis.domElement.style.setProperty( '--width', width + 'px' );\n\t\t}\n\n\t}\n\n\t/**\n\t * Adds a controller to the GUI, inferring controller type using the `typeof` operator.\n\t * @example\n\t * gui.add( object, 'property' );\n\t * gui.add( object, 'number', 0, 100, 1 );\n\t * gui.add( object, 'options', [ 1, 2, 3 ] );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number|object|Array} [$1] Minimum value for number controllers, or the set of\n\t * selectable values for a dropdown.\n\t * @param {number} [max] Maximum value for number controllers.\n\t * @param {number} [step] Step value for number controllers.\n\t * @returns {Controller}\n\t */\n\tadd( object, property, $1, max, step ) {\n\n\t\tif ( Object( $1 ) === $1 ) {\n\n\t\t\treturn new OptionController( this, object, property, $1 );\n\n\t\t}\n\n\t\tconst initialValue = object[ property ];\n\n\t\tswitch ( typeof initialValue ) {\n\n\t\t\tcase 'number':\n\n\t\t\t\treturn new NumberController( this, object, property, $1, max, step );\n\n\t\t\tcase 'boolean':\n\n\t\t\t\treturn new BooleanController( this, object, property );\n\n\t\t\tcase 'string':\n\n\t\t\t\treturn new StringController( this, object, property );\n\n\t\t\tcase 'function':\n\n\t\t\t\treturn new FunctionController( this, object, property );\n\n\t\t}\n\n\t\tconsole.error( `gui.add failed\n\tproperty:`, property, `\n\tobject:`, object, `\n\tvalue:`, initialValue );\n\n\t}\n\n\t/**\n\t * Adds a color controller to the GUI.\n\t * @example\n\t * params = {\n\t * \tcssColor: '#ff00ff',\n\t * \trgbColor: { r: 0, g: 0.2, b: 0.4 },\n\t * \tcustomRange: [ 0, 127, 255 ],\n\t * };\n\t *\n\t * gui.addColor( params, 'cssColor' );\n\t * gui.addColor( params, 'rgbColor' );\n\t * gui.addColor( params, 'customRange', 255 );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number} rgbScale Maximum value for a color channel when using an RGB color. You may\n\t * need to set this to 255 if your colors are too dark.\n\t * @returns {Controller}\n\t */\n\taddColor( object, property, rgbScale = 1 ) {\n\t\treturn new ColorController( this, object, property, rgbScale );\n\t}\n\n\t/**\n\t * Adds a folder to the GUI, which is just another GUI. This method returns\n\t * the nested GUI so you can add controllers to it.\n\t * @example\n\t * const folder = gui.addFolder( 'Position' );\n\t * folder.add( position, 'x' );\n\t * folder.add( position, 'y' );\n\t * folder.add( position, 'z' );\n\t *\n\t * @param {string} title Name to display in the folder's title bar.\n\t * @returns {GUI}\n\t */\n\taddFolder( title ) {\n\t\treturn new GUI( { parent: this, title } );\n\t}\n\n\t/**\n\t * Recalls values that were saved with `gui.save()`.\n\t * @param {object} obj\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\tload( obj, recursive = true ) {\n\n\t\tif ( obj.controllers ) {\n\n\t\t\tthis.controllers.forEach( c => {\n\n\t\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\t\tc.load( obj.controllers[ c._name ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( recursive && obj.folders ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tf.load( obj.folders[ f._title ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Returns an object mapping controller names to values. The object can be passed to `gui.load()` to\n\t * recall these values.\n\t * @example\n\t * {\n\t * \tcontrollers: {\n\t * \t\tprop1: 1,\n\t * \t\tprop2: 'value',\n\t * \t\t...\n\t * \t},\n\t * \tfolders: {\n\t * \t\tfolderName1: { controllers, folders },\n\t * \t\tfolderName2: { controllers, folders }\n\t * \t\t...\n\t * \t}\n\t * }\n\t *\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {object}\n\t */\n\tsave( recursive = true ) {\n\n\t\tconst obj = {\n\t\t\tcontrollers: {},\n\t\t\tfolders: {}\n\t\t};\n\n\t\tthis.controllers.forEach( c => {\n\n\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\tthrow new Error( `Cannot save GUI with duplicate property \"${c._name}\"` );\n\t\t\t}\n\n\t\t\tobj.controllers[ c._name ] = c.save();\n\n\t\t} );\n\n\t\tif ( recursive ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tthrow new Error( `Cannot save GUI with duplicate folder \"${f._title}\"` );\n\t\t\t\t}\n\n\t\t\t\tobj.folders[ f._title ] = f.save();\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn obj;\n\n\t}\n\n\t/**\n\t * Opens a GUI or folder. GUI and folders are open by default.\n\t * @param {boolean} open Pass false to close\n\t * @returns {this}\n\t * @example\n\t * gui.open(); // open\n\t * gui.open( false ); // close\n\t * gui.open( gui._closed ); // toggle\n\t */\n\topen( open = true ) {\n\n\t\tthis._closed = !open;\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\t\tthis.domElement.classList.toggle( 'closed', this._closed );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Closes the GUI.\n\t * @returns {this}\n\t */\n\tclose() {\n\t\treturn this.open( false );\n\t}\n\n\topenAnimated( open = true ) {\n\n\t\t// set state immediately\n\t\tthis._closed = !open;\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\n\t\t// wait for next frame to measure $children\n\t\trequestAnimationFrame( () => {\n\n\t\t\t// explicitly set initial height for transition\n\t\t\tconst initialHeight = this.$children.clientHeight;\n\t\t\tthis.$children.style.height = initialHeight + 'px';\n\n\t\t\tthis.domElement.classList.add( 'transition' );\n\n\t\t\tconst onTransitionEnd = e => {\n\t\t\t\tif ( e.target !== this.$children ) return;\n\t\t\t\tthis.$children.style.height = '';\n\t\t\t\tthis.domElement.classList.remove( 'transition' );\n\t\t\t\tthis.$children.removeEventListener( 'transitionend', onTransitionEnd );\n\t\t\t};\n\n\t\t\tthis.$children.addEventListener( 'transitionend', onTransitionEnd );\n\n\t\t\t// todo: this is wrong if children's scrollHeight makes for a gui taller than maxHeight\n\t\t\tconst targetHeight = !open ? 0 : this.$children.scrollHeight;\n\n\t\t\tthis.domElement.classList.toggle( 'closed', !open );\n\n\t\t\trequestAnimationFrame( () => {\n\t\t\t\tthis.$children.style.height = targetHeight + 'px';\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Change the title of this GUI.\n\t * @param {string} title\n\t * @returns {this}\n\t */\n\ttitle( title ) {\n\t\t/**\n\t\t * Current title of the GUI. Use `gui.title( 'Title' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._title = title;\n\t\tthis.$title.innerHTML = title;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Resets all controllers to their initial values.\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\treset( recursive = true ) {\n\t\tconst controllers = recursive ? this.controllersRecursive() : this.controllers;\n\t\tcontrollers.forEach( c => c.reset() );\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI changes.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnChange( controller );\n\t\t}\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI has finished changing.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onFinishChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnFinishChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnFinishChange( controller );\n\t\t}\n\n\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\tthis._onFinishChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Destroys all DOM elements and event listeners associated with this GUI\n\t */\n\tdestroy() {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\t\tthis.parent.folders.splice( this.parent.folders.indexOf( this ), 1 );\n\t\t}\n\n\t\tif ( this.domElement.parentElement ) {\n\t\t\tthis.domElement.parentElement.removeChild( this.domElement );\n\t\t}\n\n\t\tArray.from( this.children ).forEach( c => c.destroy() );\n\n\t}\n\n\t/**\n\t * Returns an array of controllers contained by this GUI and its descendents.\n\t * @returns {Controller[]}\n\t */\n\tcontrollersRecursive() {\n\t\tlet controllers = Array.from( this.controllers );\n\t\tthis.folders.forEach( f => {\n\t\t\tcontrollers = controllers.concat( f.controllersRecursive() );\n\t\t} );\n\t\treturn controllers;\n\t}\n\n\t/**\n\t * Returns an array of folders contained by this GUI and its descendents.\n\t * @returns {GUI[]}\n\t */\n\tfoldersRecursive() {\n\t\tlet folders = Array.from( this.folders );\n\t\tthis.folders.forEach( f => {\n\t\t\tfolders = folders.concat( f.foldersRecursive() );\n\t\t} );\n\t\treturn folders;\n\t}\n\n}\n\nexport default GUI;\nexport { BooleanController, ColorController, Controller, FunctionController, GUI, NumberController, OptionController, StringController };\n","import { Pass } from './Pass.js';\n\nclass MaskPass extends Pass {\n\n\tconstructor( scene, camera ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.clear = true;\n\t\tthis.needsSwap = false;\n\n\t\tthis.inverse = false;\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst context = renderer.getContext();\n\t\tconst state = renderer.state;\n\n\t\t// don't update color or depth\n\n\t\tstate.buffers.color.setMask( false );\n\t\tstate.buffers.depth.setMask( false );\n\n\t\t// lock buffers\n\n\t\tstate.buffers.color.setLocked( true );\n\t\tstate.buffers.depth.setLocked( true );\n\n\t\t// set up stencil\n\n\t\tlet writeValue, clearValue;\n\n\t\tif ( this.inverse ) {\n\n\t\t\twriteValue = 0;\n\t\t\tclearValue = 1;\n\n\t\t} else {\n\n\t\t\twriteValue = 1;\n\t\t\tclearValue = 0;\n\n\t\t}\n\n\t\tstate.buffers.stencil.setTest( true );\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\n\t\tstate.buffers.stencil.setClear( clearValue );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t\t// draw into the stencil buffer\n\n\t\trenderer.setRenderTarget( readBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\trenderer.setRenderTarget( writeBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\t// unlock color and depth buffer for subsequent rendering\n\n\t\tstate.buffers.color.setLocked( false );\n\t\tstate.buffers.depth.setLocked( false );\n\n\t\t// only render where stencil is set to 1\n\n\t\tstate.buffers.stencil.setLocked( false );\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t}\n\n}\n\nclass ClearMaskPass extends Pass {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.needsSwap = false;\n\n\t}\n\n\trender( renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\trenderer.state.buffers.stencil.setLocked( false );\n\t\trenderer.state.buffers.stencil.setTest( false );\n\n\t}\n\n}\n\nexport { MaskPass, ClearMaskPass };\n","import {\n\tBufferGeometry,\n\tClock,\n\tFloat32BufferAttribute,\n\tLinearFilter,\n\tMesh,\n\tOrthographicCamera,\n\tRGBAFormat,\n\tVector2,\n\tWebGLRenderTarget\n} from 'three';\nimport { CopyShader } from '../shaders/CopyShader.js';\nimport { ShaderPass } from './ShaderPass.js';\nimport { MaskPass } from './MaskPass.js';\nimport { ClearMaskPass } from './MaskPass.js';\n\nclass EffectComposer {\n\n\tconstructor( renderer, renderTarget ) {\n\n\t\tthis.renderer = renderer;\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tconst parameters = {\n\t\t\t\tminFilter: LinearFilter,\n\t\t\t\tmagFilter: LinearFilter,\n\t\t\t\tformat: RGBAFormat\n\t\t\t};\n\n\t\t\tconst size = renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = new WebGLRenderTarget( this._width * this._pixelRatio, this._height * this._pixelRatio, parameters );\n\t\t\trenderTarget.texture.name = 'EffectComposer.rt1';\n\n\t\t} else {\n\n\t\t\tthis._pixelRatio = 1;\n\t\t\tthis._width = renderTarget.width;\n\t\t\tthis._height = renderTarget.height;\n\n\t\t}\n\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\t\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t\tthis.renderToScreen = true;\n\n\t\tthis.passes = [];\n\n\t\t// dependencies\n\n\t\tif ( CopyShader === undefined ) {\n\n\t\t\tconsole.error( 'THREE.EffectComposer relies on CopyShader' );\n\n\t\t}\n\n\t\tif ( ShaderPass === undefined ) {\n\n\t\t\tconsole.error( 'THREE.EffectComposer relies on ShaderPass' );\n\n\t\t}\n\n\t\tthis.copyPass = new ShaderPass( CopyShader );\n\n\t\tthis.clock = new Clock();\n\n\t}\n\n\tswapBuffers() {\n\n\t\tconst tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\n\t}\n\n\taddPass( pass ) {\n\n\t\tthis.passes.push( pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t}\n\n\tinsertPass( pass, index ) {\n\n\t\tthis.passes.splice( index, 0, pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t}\n\n\tremovePass( pass ) {\n\n\t\tconst index = this.passes.indexOf( pass );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tthis.passes.splice( index, 1 );\n\n\t\t}\n\n\t}\n\n\tisLastEnabledPass( passIndex ) {\n\n\t\tfor ( let i = passIndex + 1; i < this.passes.length; i ++ ) {\n\n\t\t\tif ( this.passes[ i ].enabled ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\trender( deltaTime ) {\n\n\t\t// deltaTime value is in seconds\n\n\t\tif ( deltaTime === undefined ) {\n\n\t\t\tdeltaTime = this.clock.getDelta();\n\n\t\t}\n\n\t\tconst currentRenderTarget = this.renderer.getRenderTarget();\n\n\t\tlet maskActive = false;\n\n\t\tfor ( let i = 0, il = this.passes.length; i < il; i ++ ) {\n\n\t\t\tconst pass = this.passes[ i ];\n\n\t\t\tif ( pass.enabled === false ) continue;\n\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\n\n\t\t\tif ( pass.needsSwap ) {\n\n\t\t\t\tif ( maskActive ) {\n\n\t\t\t\t\tconst context = this.renderer.getContext();\n\t\t\t\t\tconst stencil = this.renderer.state.buffers.stencil;\n\n\t\t\t\t\t//context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\n\n\t\t\t\t\t//context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.EQUAL, 1, 0xffffffff );\n\n\t\t\t\t}\n\n\t\t\t\tthis.swapBuffers();\n\n\t\t\t}\n\n\t\t\tif ( MaskPass !== undefined ) {\n\n\t\t\t\tif ( pass instanceof MaskPass ) {\n\n\t\t\t\t\tmaskActive = true;\n\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\n\n\t\t\t\t\tmaskActive = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n\treset( renderTarget ) {\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tconst size = this.renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = this.renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\t\t\trenderTarget.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t}\n\n\tsetSize( width, height ) {\n\n\t\tthis._width = width;\n\t\tthis._height = height;\n\n\t\tconst effectiveWidth = this._width * this._pixelRatio;\n\t\tconst effectiveHeight = this._height * this._pixelRatio;\n\n\t\tthis.renderTarget1.setSize( effectiveWidth, effectiveHeight );\n\t\tthis.renderTarget2.setSize( effectiveWidth, effectiveHeight );\n\n\t\tfor ( let i = 0; i < this.passes.length; i ++ ) {\n\n\t\t\tthis.passes[ i ].setSize( effectiveWidth, effectiveHeight );\n\n\t\t}\n\n\t}\n\n\tsetPixelRatio( pixelRatio ) {\n\n\t\tthis._pixelRatio = pixelRatio;\n\n\t\tthis.setSize( this._width, this._height );\n\n\t}\n\n}\n\n\nclass Pass {\n\n\tconstructor() {\n\n\t\t// if set to true, the pass is processed by the composer\n\t\tthis.enabled = true;\n\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\t\tthis.needsSwap = true;\n\n\t\t// if set to true, the pass clears its buffer before rendering\n\t\tthis.clear = false;\n\n\t\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\t\tthis.renderToScreen = false;\n\n\t}\n\n\tsetSize( /* width, height */ ) {}\n\n\trender( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nconst _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n// https://github.com/mrdoob/three.js/pull/21358\n\nconst _geometry = new BufferGeometry();\n_geometry.setAttribute( 'position', new Float32BufferAttribute( [ - 1, 3, 0, - 1, - 1, 0, 3, - 1, 0 ], 3 ) );\n_geometry.setAttribute( 'uv', new Float32BufferAttribute( [ 0, 2, 0, 0, 2, 0 ], 2 ) );\n\nclass FullScreenQuad {\n\n\tconstructor( material ) {\n\n\t\tthis._mesh = new Mesh( _geometry, material );\n\n\t}\n\n\tdispose() {\n\n\t\tthis._mesh.geometry.dispose();\n\n\t}\n\n\trender( renderer ) {\n\n\t\trenderer.render( this._mesh, _camera );\n\n\t}\n\n\tget material() {\n\n\t\treturn this._mesh.material;\n\n\t}\n\n\tset material( value ) {\n\n\t\tthis._mesh.material = value;\n\n\t}\n\n}\n\nexport { EffectComposer, Pass, FullScreenQuad };\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tOrthographicCamera,\n\tMesh\n} from 'three';\n\nclass Pass {\n\n\tconstructor() {\n\n\t\t// if set to true, the pass is processed by the composer\n\t\tthis.enabled = true;\n\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\t\tthis.needsSwap = true;\n\n\t\t// if set to true, the pass clears its buffer before rendering\n\t\tthis.clear = false;\n\n\t\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\t\tthis.renderToScreen = false;\n\n\t}\n\n\tsetSize( /* width, height */ ) {}\n\n\trender( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nconst _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n// https://github.com/mrdoob/three.js/pull/21358\n\nconst _geometry = new BufferGeometry();\n_geometry.setAttribute( 'position', new Float32BufferAttribute( [ - 1, 3, 0, - 1, - 1, 0, 3, - 1, 0 ], 3 ) );\n_geometry.setAttribute( 'uv', new Float32BufferAttribute( [ 0, 2, 0, 0, 2, 0 ], 2 ) );\n\nclass FullScreenQuad {\n\n\tconstructor( material ) {\n\n\t\tthis._mesh = new Mesh( _geometry, material );\n\n\t}\n\n\tdispose() {\n\n\t\tthis._mesh.geometry.dispose();\n\n\t}\n\n\trender( renderer ) {\n\n\t\trenderer.render( this._mesh, _camera );\n\n\t}\n\n\tget material() {\n\n\t\treturn this._mesh.material;\n\n\t}\n\n\tset material( value ) {\n\n\t\tthis._mesh.material = value;\n\n\t}\n\n}\n\nexport { Pass, FullScreenQuad };\n","import {\n\tColor\n} from 'three';\nimport { Pass } from './Pass.js';\n\nclass RenderPass extends Pass {\n\n\tconstructor( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.overrideMaterial = overrideMaterial;\n\n\t\tthis.clearColor = clearColor;\n\t\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\n\n\t\tthis.clear = true;\n\t\tthis.clearDepth = false;\n\t\tthis.needsSwap = false;\n\t\tthis._oldClearColor = new Color();\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tlet oldClearAlpha, oldOverrideMaterial;\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\toldOverrideMaterial = this.scene.overrideMaterial;\n\n\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\t}\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.getClearColor( this._oldClearColor );\n\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\n\n\t\t}\n\n\t\tif ( this.clearDepth ) {\n\n\t\t\trenderer.clearDepth();\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\trenderer.render( this.scene, this.camera );\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.setClearColor( this._oldClearColor, oldClearAlpha );\n\n\t\t}\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\tthis.scene.overrideMaterial = oldOverrideMaterial;\n\n\t\t}\n\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n}\n\nexport { RenderPass };\n","import {\n\tShaderMaterial,\n\tUniformsUtils\n} from 'three';\nimport { Pass, FullScreenQuad } from './Pass.js';\n\nclass ShaderPass extends Pass {\n\n\tconstructor( shader, textureID ) {\n\n\t\tsuper();\n\n\t\tthis.textureID = ( textureID !== undefined ) ? textureID : 'tDiffuse';\n\n\t\tif ( shader instanceof ShaderMaterial ) {\n\n\t\t\tthis.uniforms = shader.uniforms;\n\n\t\t\tthis.material = shader;\n\n\t\t} else if ( shader ) {\n\n\t\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t\tthis.material = new ShaderMaterial( {\n\n\t\t\t\tdefines: Object.assign( {}, shader.defines ),\n\t\t\t\tuniforms: this.uniforms,\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader\n\n\t\t\t} );\n\n\t\t}\n\n\t\tthis.fsQuad = new FullScreenQuad( this.material );\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tif ( this.uniforms[ this.textureID ] ) {\n\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\n\n\t\t}\n\n\t\tthis.fsQuad.material = this.material;\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t} else {\n\n\t\t\trenderer.setRenderTarget( writeBuffer );\n\t\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t}\n\n}\n\nexport { ShaderPass };\n","/**\n * Full-screen textured quad shader\n */\n\nvar CopyShader = {\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'opacity': { value: 1.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\t\t}`\n\n};\n\nexport { CopyShader };\n"],"names":["Controller","constructor","parent","object","property","className","widgetTag","this","_disabled","initialValue","getValue","domElement","document","createElement","classList","add","$name","nextNameID","id","$widget","$disable","appendChild","children","push","controllers","$children","_listenCallback","bind","name","_name","innerHTML","onChange","callback","_onChange","_callOnChange","undefined","call","_changed","onFinishChange","_onFinishChange","_callOnFinishChange","reset","setValue","enable","enabled","disable","disabled","toggle","toggleAttribute","options","controller","destroy","min","max","step","listen","_listening","_listenCallbackID","cancelAnimationFrame","requestAnimationFrame","updateDisplay","value","load","save","splice","indexOf","removeChild","_captureKeyEvents","el","addEventListener","e","stopPropagation","BooleanController","super","$input","setAttribute","checked","normalizeColorString","string","match","result","parseInt","toString","padStart","STRING","isPrimitive","v","fromHexString","toHexString","INT","substring","ARRAY","Array","isArray","target","rgbScale","int","r","g","b","OBJECT","Object","FORMATS","ColorController","$text","$display","_format","find","format","_rgbScale","_initialValueHexString","_textFocused","_setValueFromHexString","tryParse","select","newValue","style","backgroundColor","FunctionController","$button","preventDefault","NumberController","_initInput","stepExplicit","_getImplicitStep","_min","_onUpdateMinMax","_max","explicit","_step","_stepExplicit","_hasSlider","percent","Math","$fill","width","_inputFocused","increment","delta","parseFloat","isNaN","_snapClampSetValue","initClientX","initClientY","prevClientY","initValue","dragDelta","testingForVerticalDrag","onMouseMove","dx","clientX","dy","clientY","abs","blur","_setDraggingStyle","onMouseUp","_arrowKeyMultiplier","window","removeEventListener","_clamp","code","_normalizeMouseWheel","_initSlider","$slider","insertBefore","setValueFromX","rect","getBoundingClientRect","a","left","right","c","d","mouseMove","mouseUp","prevClientX","testingForScroll","beginTouchDrag","touches","onTouchMove","onTouchEnd","callOnFinishChange","wheelFinishChangeTimeout","length","_hasScrollBar","deltaX","deltaY","clearTimeout","setTimeout","active","axis","body","_hasMin","_hasMax","floor","wheelDelta","mult","shiftKey","altKey","_snap","round","toPrecision","root","scrollHeight","clientHeight","OptionController","$select","_values","values","_names","keys","forEach","$option","selectedIndex","remove","index","StringController","stylesInjected","GUI","autoPlace","container","title","injectStyles","touchStyles","folders","_closed","$title","openAnimated","click","cssContent","injected","before","querySelector","head","_injectStyles","setProperty","$1","console","error","addColor","addFolder","obj","recursive","f","_title","Error","open","close","initialHeight","height","onTransitionEnd","targetHeight","controllersRecursive","parentElement","from","concat","foldersRecursive","MaskPass","Pass","scene","camera","clear","needsSwap","inverse","render","renderer","writeBuffer","readBuffer","context","getContext","state","writeValue","clearValue","buffers","color","setMask","depth","setLocked","stencil","setTest","setOp","REPLACE","setFunc","ALWAYS","setClear","setRenderTarget","EQUAL","KEEP","ClearMaskPass","EffectComposer","renderTarget","parameters","minFilter","magFilter","size","getSize","_pixelRatio","getPixelRatio","_width","_height","texture","renderTarget1","renderTarget2","clone","renderToScreen","passes","CopyShader","C","ShaderPass","copyPass","clock","swapBuffers","tmp","addPass","pass","setSize","insertPass","removePass","isLastEnabledPass","passIndex","i","deltaTime","getDelta","currentRenderTarget","getRenderTarget","maskActive","il","NOTEQUAL","dispose","effectiveWidth","effectiveHeight","setPixelRatio","pixelRatio","_geometry","_camera","FullScreenQuad","material","_mesh","geometry","RenderPass","overrideMaterial","clearColor","clearAlpha","clearDepth","_oldClearColor","oldAutoClear","autoClear","oldClearAlpha","oldOverrideMaterial","getClearColor","getClearAlpha","setClearColor","autoClearColor","autoClearDepth","autoClearStencil","shader","textureID","uniforms","defines","assign","vertexShader","fragmentShader","fsQuad"],"sourceRoot":""}